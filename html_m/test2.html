<!DOCTYPE html>
<html lang="ko" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="format-detection" content="telephone=no" />
    <title>모바일</title>
    <link href="../css/style_m.css?ver=0.1" rel="stylesheet">
    <link href="../script/lib/jquery.bxslider.css" rel="stylesheet">
    <script src="../script/lib/jquery-3.4.1.min.js"></script>
    <script src="../script/lib/jquery-3.4.1.min.js"></script>
    <script src="../script/lib/jquery-ui.js"></script>
    <script src="../script/lib/jquery.bxslider.js"></script>
    <style type="text/css">

      .test_wrap {width:100%; height:100%; overflow:hidden; position:relative;}
      .test_sd {height:100%; width:5000px; position:absolute; top:0; left:0;  transition:all 0.3s; }
      .test_item {float:left; height:100%; overflow:auto;}
      .test_item .inner {}
      .test_item:nth-child(1) {background-color:red;}
      .test_item:nth-child(2) {background-color:green;}
      .test_item:nth-child(3) {background-color:olive;}
      .test_item:nth-child(4) {background-color:orange;}
      .test_item:nth-child(5) {background-color:yellow;}
      .test_item:nth-child(6) {background-color:blue;}
    </style>
    <script type="text/javascript">

    $(function(){


      var width = $(document).width();
      var touchFlag = false;
      var startX, startY, endX, endY;
      var index = 0;
      var size = $(".test_item").length -1;
      console.log(size);

      $(".test_item").width(width);

      $(".test_wrap").on("touchstart", function(e) {
        console.log("start");
        startX = e.touches[0].clientX;
        startY = e.touches[0].clientY;

        touchFlag = true;

      });

      $(".test_wrap").on("touchmove", function(e) {
        console.log("move");
        endX = e.touches[0].clientX;
        endY = e.touches[0].clientY;
        touchFlag = false;

      });

      $(".test_wrap").on("touchend", function(e) {

        var resultX = startX - endX;
        var resultY = startY - endY;
        if(Math.abs(resultY) < 50 && Math.abs(resultX) > 100) {
          if(resultX>0 && index<size) {
            // left
            index++;
            movePage();
          }else if(resultX<0 && index > 0){
            // right
            index--;
            movePage();
          }
        }


        touchFlag = false;
        startX = 0;
        startY = 0;
        endX = 0;
        endY = 0;


      });


      function movePage() {
        var left = index * width *-1;
        $(".test_sd").css("left", left +"px");
      }



    });
    </script>
  </head>
  <body>


   <div class="test_wrap">
     <div class="test_sd">
       <div class="test_item">
         <div class="inner">
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>

           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
           TEst1<br>
         </div>

       </div>
       <div class="test_item">
         TEst2
       </div>
     </div>
   </div>









  </body>
</html>
